var crypto = require('crypto');

var ciphers = crypto.getCiphers();

var test = function(algorithm){
    //UDOerfQ/Wt+a51xSaZLtSA==
    var data = new Buffer('你好');
    //console.log('Original cleartext: ' + data);
    //var algorithm = 'aes-128-cfb8';
    var key = new Buffer('12345678901234567890123456789012');
    var clearEncoding = 'utf8';
//var cipherEncoding = 'hex';
//If the next line is uncommented, the final cleartext is wrong.
    var cipherEncoding = 'base64';
    var cipher = crypto.createCipher(algorithm, key);
    cipher.setAutoPadding(auto_padding=true);

    var cipherChunks = [];
    try{
        cipherChunks.push(cipher.update(data, clearEncoding, cipherEncoding));
        cipherChunks.push(cipher.final(cipherEncoding));
    }catch(e){}

    console.log(algorithm + ' : ' + cipherChunks.join(''));
}

for(var i=0;i<ciphers.length;i++){
    test(ciphers[i]);
}